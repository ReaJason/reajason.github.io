<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>æ”¯ä»˜å®å¤šè´¦å·åŒæ­¥</title>
    <link href="/2020/11/07/AlipayAutoSync/"/>
    <url>/2020/11/07/AlipayAutoSync/</url>
    
    <content type="html"><![CDATA[<blockquote><p>ä¸‡æ¶çš„èš‚èšæ£®æ—ç§æ ‘ï¼Œä»€ä¹ˆæ°´å•†ï¼Œå„ç§è¾…åŠ©å¤–æŒ‚æ»¡å¤©é£ï¼Œå½“ç„¶æœ€ç»ˆå—ç›Šçš„è¿˜æ˜¯æ”¯ä»˜å®ï¼Œæœ€è¿‘èš‚èšé›†å›¢ä¸Šå¸‚æš‚ç¼“ä¹Ÿæ˜¯çœŸå¼ºï¼Œä¸å¤šè¯´ï¼Œä¸ºäº†è‡ªå·±èƒ½é‡è¹­è¹­å¾€ä¸Šæ¶¨ï¼Œç‰¹æ„æ³¨å†Œäº†äº”å…­ä¸ªå°å·åˆ·èƒ½é‡ï¼Œä¸ºå¤§å·æµ‡æ°´ï¼Œä¸€å¤©1kgèƒ½é‡ä¸ç”¨æ„<br>ä¸»è¦å®ç°åŠŸèƒ½ä¸ºæ”¯ä»˜å®å¤šè´¦å·åˆ‡æ¢+è¿›å…¥è¿åŠ¨è¿›è¡Œæ­¥æ•°åŒæ­¥<br>æœ¬è„šæœ¬æ‰€ä½¿ç”¨çš„autojsç‰ˆæœ¬ä¸º â€”&gt; <a href="https://lingsiki.lanzous.com/in80Mi4ve3a">Auto.js_4.1.1 Alpha2</a></p><a id="more"></a></blockquote><div class="note note-success">            <p>å®ç°åŸç†ï¼šåˆ©ç”¨ä¸‰æ˜Ÿå¥åº·ç®¡ç†åˆ·ä¸‰æ˜Ÿå¥åº·çš„æ­¥æ•°ï¼Œç„¶åæŠŠä¸‰æ˜Ÿå¥åº·çš„æ­¥æ•°åŒæ­¥åˆ°æ¯ä¸€ä¸ªå°å·ä¸Š</p>          </div><h3 id="ä¸€ã€åŸºæœ¬åŠŸèƒ½"><a href="#ä¸€ã€åŸºæœ¬åŠŸèƒ½" class="headerlink" title="ä¸€ã€åŸºæœ¬åŠŸèƒ½"></a>ä¸€ã€åŸºæœ¬åŠŸèƒ½</h3><ol><li>æ”¯ä»˜å®åˆ·æ­¥æ•°</li><li>æ”¯ä»˜å®è´¦å·åˆ‡æ¢</li><li>è¿åŠ¨åŒæ­¥ä»¥åŠææ­¥</li></ol><h3 id="äºŒã€ä»£ç å®ç°"><a href="#äºŒã€ä»£ç å®ç°" class="headerlink" title="äºŒã€ä»£ç å®ç°"></a>äºŒã€ä»£ç å®ç°</h3><h4 id="1ã€å…³é—­æ”¯ä»˜å®"><a href="#1ã€å…³é—­æ”¯ä»˜å®" class="headerlink" title="1ã€å…³é—­æ”¯ä»˜å®"></a>1ã€å…³é—­æ”¯ä»˜å®</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * å…³é—­æ”¯ä»˜å®å‡½æ•°</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closeAlipay</span>(<span class="hljs-params"></span>)</span>&#123;<br>    appName = app.getPackageName(<span class="hljs-string">&#x27;æ”¯ä»˜å®&#x27;</span>)<br>    app.openAppSetting(appName)<br>    sleep(<span class="hljs-number">1000</span>)<br>    <span class="hljs-keyword">var</span> obj = text(<span class="hljs-string">&#x27;ç»“æŸè¿è¡Œ&#x27;</span>).findOne(<span class="hljs-number">5000</span>)<br>    clickCenter(obj)<br>    <span class="hljs-keyword">var</span> btn = idContains(<span class="hljs-string">&#x27;button1&#x27;</span>).findOne(<span class="hljs-number">1000</span>)<br>    <span class="hljs-keyword">if</span> (btn)&#123;<br>        btn.click()<br>    &#125;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;æ”¯ä»˜å®å…³é—­æˆåŠŸï¼\nå¼€å¯ä»»åŠ¡&quot;</span>)<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="2ã€æ”¯ä»˜å®åˆ·æ­¥æ•°"><a href="#2ã€æ”¯ä»˜å®åˆ·æ­¥æ•°" class="headerlink" title="2ã€æ”¯ä»˜å®åˆ·æ­¥æ•°"></a>2ã€æ”¯ä»˜å®åˆ·æ­¥æ•°</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * åˆ©ç”¨ä¸‰æ˜Ÿå¥åº· + ä¸‰æ˜Ÿå¥åº·ç®¡ç†å®ç°æ”¯ä»˜å®åˆ·æ­¥æ•°</span><br><span class="hljs-comment"> * ç¯å¢ƒæ­å»ºï¼ˆRootæ‰‹æœºï¼‰ï¼š</span><br><span class="hljs-comment"> * 1ã€ä¸‹è½½åˆ·æ­¥æ•°ä¸‰ä»¶å¥—ï¼ˆhttps://lingsiki.lanzous.com/b0ejfe25aï¼‰ã€‚</span><br><span class="hljs-comment"> * 2ã€edxpæ¿€æ´»åº”ç”¨å˜é‡æ¨¡å—ï¼Œå¹¶ä¸”è®¾ç½®ä¸‰æ˜Ÿå¥åº·ã€æ”¯ä»˜å®å’Œä¸‰æ˜Ÿå¥åº·ç®¡ç†æ¨¡æ‹Ÿæœºå‹ä¸ºä¸‰æ˜Ÿå‹å·æ‰‹æœºã€‚</span><br><span class="hljs-comment"> * 3ã€è¿›å…¥ä¸‰æ˜Ÿå¥åº·è®¾ç½®-å…³äºä¸‰æ˜Ÿå¥åº·ç‚¹å‡»ç‰ˆæœ¬å·åæ¬¡å¼€å¯å¼€å‘è€…æ¨¡å¼-ç„¶åè¿›å…¥æ•°æ®æƒé™å¼€å¯æ”¯ä»˜å®å’Œä¸‰æ˜Ÿå¥åº·ç®¡ç†çš„æ‰€æœ‰æƒé™ã€‚</span><br><span class="hljs-comment"> * 4ã€è¿›å…¥æ”¯ä»˜å®çš„æ”¯ä»˜å®è¿åŠ¨-å³ä¸Šè§’ä¸‰ç‚¹è¿›å…¥è®¾ç½®ï¼Œå¼€å¯è®°å½•è¿åŠ¨æ•°æ®ã€‚</span><br><span class="hljs-comment"> * 5ã€ä¿æŒä¸‰æ˜Ÿå¥åº·åœ¨åå°ï¼Œæ‰“å¼€ä¸‰æ˜Ÿå¥åº·ç®¡ç†å¢åŠ æ­¥æ•°ï¼Œè¿›å…¥ä¸‰æ˜Ÿå¥åº·ç­‰ä¸€ä¼šå„¿å³å¯åŒæ­¥æ­¥æ•°ï¼Œæœ€åå…³é—­é‡å¯æ”¯ä»˜å®ï¼Œè¿›å…¥è¿åŠ¨æŸ¥çœ‹åŒæ­¥æƒ…å†µ</span><br><span class="hljs-comment"> * 6ã€è‹¥å¤±è´¥å¯èƒ½æ˜¯æœºå‹ä¼ªè£…çš„é—®é¢˜ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ç¬¬ä¸€å¤©åˆ·æ­¥æ•°å¯èƒ½å»¶è¿Ÿä¼šæœ‰ç‚¹å¤§ï¼Œç¬¬äºŒå¤©ä»¥åä¸€èˆ¬éƒ½æ˜¯ç§’åŒæ­¥çš„</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-type">&#123;æ­¥æ•°=count * 12000&#125;</span> </span>count </span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">steps</span>(<span class="hljs-params">count</span>) </span>&#123;<br>    launchApp(<span class="hljs-string">&#x27;ä¸‰æ˜Ÿå¥åº·&#x27;</span>);<br>    sleep(<span class="hljs-number">1000</span>);<br>    launchApp(<span class="hljs-string">&#x27;ä¸‰æ˜Ÿå¥åº·æ­¥æ•°ç®¡ç†&#x27;</span>);<br>    idContains(<span class="hljs-string">&quot;floatingActionButton&quot;</span>).waitFor()<br>    sleep(<span class="hljs-number">1000</span>)<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>; index &lt; count; index++) &#123;<br>        idContains(<span class="hljs-string">&quot;floatingActionButton&quot;</span>).findOne().click()<br>        sleep(<span class="hljs-number">500</span>)<br>        click(<span class="hljs-number">800</span>, <span class="hljs-number">1750</span>)<br>        sleep(<span class="hljs-number">500</span>)<br>    &#125;<br>    launchApp(<span class="hljs-string">&#x27;ä¸‰æ˜Ÿå¥åº·&#x27;</span>);<br>    text(<span class="hljs-string">&#x27;ä¸»é¡µ&#x27;</span>).waitFor();<br>    <span class="hljs-keyword">var</span> obj = idContains(<span class="hljs-string">&#x27;goal&#x27;</span>).findOne()<br>    clickCenter(obj);<br>    sleep(<span class="hljs-number">5000</span>)<br>    <span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>)&#123;<br>        step = idContains(<span class="hljs-string">&#x27;current_steps&#x27;</span>).findOne().text()<br>        <span class="hljs-keyword">if</span> (step != <span class="hljs-string">&#x27;0&#x27;</span>)&#123;<br>            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;å½“å‰åˆ·æ­¥æ•°ä¸ºï¼š&quot;</span> + step)<br>            <span class="hljs-keyword">return</span> step;<br>        &#125;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure><h4 id="3ã€æ”¯ä»˜å®ç™»å½•"><a href="#3ã€æ”¯ä»˜å®ç™»å½•" class="headerlink" title="3ã€æ”¯ä»˜å®ç™»å½•"></a>3ã€æ”¯ä»˜å®ç™»å½•</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * æ”¯ä»˜å®ç™»å½•å‡½æ•°</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-type">&#123;è´¦å·&#125;</span> </span>accont </span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param <span class="hljs-type">&#123;å¯†ç &#125;</span> </span>key </span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">login</span>(<span class="hljs-params">accont, key</span>) </span>&#123;<br>    <span class="hljs-comment">// è¿›å…¥æ”¯ä»˜å®å¯†ç ç™»å½•ç•Œé¢</span><br>    app.startActivity(app.intent(&#123;<br>        action: <span class="hljs-string">&quot;VIEW&quot;</span>,<br>        data: <span class="hljs-string">&quot;alipayqr://platformapi/startapp?appId=20000008&quot;</span>,<br>    &#125;));<br>    textMatches(<span class="hljs-string">&quot;æ¢ä¸ªè´¦å·ç™»å½•&quot;</span>).findOne(<span class="hljs-number">5000</span>)<br>    click(<span class="hljs-string">&quot;æ¢ä¸ªè´¦å·ç™»å½•&quot;</span>)<br>    sleep(<span class="hljs-number">400</span>)<br>    setText(<span class="hljs-number">0</span>, accont);<br>    textMatches(<span class="hljs-string">&quot;ä¸‹ä¸€æ­¥&quot;</span>).findOne(<span class="hljs-number">5000</span>)<br>    click(<span class="hljs-string">&quot;ä¸‹ä¸€æ­¥&quot;</span>)<br>    idContains(<span class="hljs-string">&quot;loginButton&quot;</span>).waitFor()<br>    <span class="hljs-keyword">var</span> obj = textMatches(<span class="hljs-regexp">/çŸ­ä¿¡éªŒè¯ç ç™»å½•|å¿˜è®°å¯†ç ?|æ¢ä¸ªæ–¹å¼ç™»å½•/</span>).findOne().text()<br>    <span class="hljs-keyword">if</span> (obj == <span class="hljs-string">&quot;çŸ­ä¿¡éªŒè¯ç ç™»å½•&quot;</span>) &#123;<br>        sleep(<span class="hljs-number">200</span>)<br>        textMatches(<span class="hljs-regexp">/æ¢ä¸ªéªŒè¯æ–¹å¼|æ¢ä¸ªæ–¹å¼ç™»å½•/</span>).findOne()<br>        click(<span class="hljs-string">&quot;æ¢ä¸ªéªŒè¯æ–¹å¼&quot;</span>)<br>        click(<span class="hljs-string">&quot;æ¢ä¸ªæ–¹å¼ç™»å½•&quot;</span>)<br>        text(<span class="hljs-string">&quot;å¯†ç ç™»å½•&quot;</span>).findOne()<br>        sleep(<span class="hljs-number">200</span>)<br>        <span class="hljs-keyword">while</span> (!click(<span class="hljs-string">&quot;å¯†ç ç™»å½•&quot;</span>)) &#123; &#125;<br>        sleep(<span class="hljs-number">400</span>)<br>        setText(<span class="hljs-number">0</span>, accont);<br>        sleep(<span class="hljs-number">200</span>);<br>        setText(<span class="hljs-number">1</span>, key);<br>        sleep(<span class="hljs-number">200</span>)<br>        idContains(<span class="hljs-string">&quot;loginButton&quot;</span>).findOne().click()<br>        <span class="hljs-built_in">console</span>.log(accont, <span class="hljs-string">&quot;ç™»å½•æˆåŠŸ&quot;</span>)<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        sleep(<span class="hljs-number">400</span>)<br>        setText(<span class="hljs-number">1</span>, key);<br>        sleep(<span class="hljs-number">400</span>)<br>        idContains(<span class="hljs-string">&quot;loginButton&quot;</span>).findOne().click()<br>        <span class="hljs-built_in">console</span>.log(accont, <span class="hljs-string">&quot;ç™»å½•æˆåŠŸ&quot;</span>)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="4ã€æ­¥æ•°åŒæ­¥"><a href="#4ã€æ­¥æ•°åŒæ­¥" class="headerlink" title="4ã€æ­¥æ•°åŒæ­¥"></a>4ã€æ­¥æ•°åŒæ­¥</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * è¿›å…¥æ”¯ä»˜å®è¿åŠ¨æ­¥æ•°åŒæ­¥ä»¥åŠææ­¥</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">go_sports</span>(<span class="hljs-params"></span>) </span>&#123;<br>    sleep(<span class="hljs-number">2000</span>)<br>    app.startActivity(&#123;<br>        data: <span class="hljs-string">&quot;alipayqr://platformapi/startapp?saId=20000869&quot;</span><br>    &#125;)<br>    textContains(<span class="hljs-string">&quot;èµ°è·¯çº¿&quot;</span>).waitFor();<br>    swipe(device.width / <span class="hljs-number">9</span> * <span class="hljs-number">8</span>, device.height / <span class="hljs-number">3</span>, device.width / <span class="hljs-number">9</span> * <span class="hljs-number">8</span>, device.height / <span class="hljs-number">3</span> * <span class="hljs-number">2</span>, <span class="hljs-number">500</span>)<br>    sleep(<span class="hljs-number">5000</span>)<br>    <span class="hljs-keyword">var</span> obj1 = text(<span class="hljs-string">&#x27;å»ææ­¥&#x27;</span>).findOne(<span class="hljs-number">1000</span>)<br>    <span class="hljs-keyword">if</span> (obj1 != <span class="hljs-literal">null</span>)&#123;<br>        clickCenter(text(<span class="hljs-string">&#x27;å»ææ­¥&#x27;</span>).findOne())<br>        sleep(<span class="hljs-number">3000</span>)<br>        text(<span class="hljs-string">&#x27;ç«‹å³ææ­¥&#x27;</span>).findOne()<br>        sleep(<span class="hljs-number">200</span>)<br>        <span class="hljs-keyword">while</span> (!click(<span class="hljs-string">&quot;ç«‹å³ææ­¥&quot;</span>)) &#123;&#125;<br>        sleep(<span class="hljs-number">500</span>)<br>        clickCenter(text(<span class="hljs-string">&quot;çŸ¥é“äº†&quot;</span>).findOne(<span class="hljs-number">1000</span>))<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;ææ­¥æˆåŠŸ&#x27;</span>)<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;å·²ç»æå®Œæ­¥æ•°äº†&#x27;</span>)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="5ã€è¿›å…¥èš‚èšæ£®æ—"><a href="#5ã€è¿›å…¥èš‚èšæ£®æ—" class="headerlink" title="5ã€è¿›å…¥èš‚èšæ£®æ—"></a>5ã€è¿›å…¥èš‚èšæ£®æ—</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * è¿›å…¥èš‚èšæ£®æ—</span><br><span class="hljs-comment"> */</span><br><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">enterForest</span>(<span class="hljs-params"></span>)</span>&#123;<br>    sleep(<span class="hljs-number">2000</span>)<br>    app.startActivity(&#123;<br>        data: <span class="hljs-string">&quot;alipayqr://platformapi/startapp?saId=60000002&quot;</span><br>    &#125;)<br>    sleep(<span class="hljs-number">2000</span>)<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ä¸‰ã€å®Œæ•´ä»£ç "><a href="#ä¸‰ã€å®Œæ•´ä»£ç " class="headerlink" title="ä¸‰ã€å®Œæ•´ä»£ç "></a>ä¸‰ã€å®Œæ•´ä»£ç </h3><p>ä¸‹è½½é“¾æ¥ï¼š<a href="https://github.com/ReaJason/AutoJsScripts/blob/master/%E6%94%AF%E4%BB%98%E5%AE%9D%E5%A4%9A%E8%B4%A6%E5%8F%B7%E5%88%87%E6%8D%A2%E6%AD%A5%E6%95%B0%E5%90%8C%E6%AD%A5%E8%84%9A%E6%9C%AC.js">GitHubåœ°å€é“¾æ¥</a></p><h3 id="å››ã€è¿è¡Œæ•ˆæœ"><a href="#å››ã€è¿è¡Œæ•ˆæœ" class="headerlink" title="å››ã€è¿è¡Œæ•ˆæœ"></a>å››ã€è¿è¡Œæ•ˆæœ</h3><iframe height="400" width="500" src="//player.bilibili.com/player.html?aid=670137563&bvid=BV17a4y1s7nP&cid=253887490&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe><h3 id="äº”ã€æ³¨æ„äº‹é¡¹"><a href="#äº”ã€æ³¨æ„äº‹é¡¹" class="headerlink" title="äº”ã€æ³¨æ„äº‹é¡¹"></a>äº”ã€æ³¨æ„äº‹é¡¹</h3><ol><li>å®‰è£…autojsä¹‹åï¼Œç‚¹å‡»å³å°è§’æ–°å»ºæ–‡ä»¶ï¼Œå°†å®Œæ•´ä»£ç ç²˜è´´è¿›å»ï¼Œå¼€å¯æ— éšœç¢æ¨¡å¼å³å¯è¿è¡Œ</li><li>ä½¿ç”¨æ—¶ä¿®æ”¹å°å·è´¦å·å’Œå¯†ç ï¼Œä»¥åŠå¤§å·è´¦å·å’Œå¯†ç å³å¯</li><li>æ¯ä¸€éƒ¨æ‰‹æœºçš„è„šæœ¬è¿è¡Œæ•ˆæœå¯èƒ½ä¼šä¸ä¸€æ ·ï¼Œå› ä¸ºè½¯ä»¶çš„å±€é™æ€§</li><li>å¯ä»¥æ ¹æ®autojsçš„æ–‡æ¡£è‡ªå·±ç¼–å†™è„šæœ¬ â€”&gt; <a href="https://hyb1996.github.io/AutoJs-Docs/#/">AutoJs-Docs</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>AutoJs</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Script</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¾®åšè¶…è¯å·¥å…·</title>
    <link href="/2020/10/19/WeiBoSuperTopicsTool/"/>
    <url>/2020/10/19/WeiBoSuperTopicsTool/</url>
    
    <content type="html"><![CDATA[<blockquote><p>æˆ‘çš„ç¬¬ä¸€ä¸ª PyQt5 çš„ GUI ç¨‹åºï¼ŒæŠ“å–å¾®åš API  è¿›è¡Œçš„å°è£…é›†ä¸€é”®è¶…è¯ç­¾åˆ°ï¼Œè·å–æ¯æ—¥ç§¯åˆ†<br>å¾®åš APP ç™»å½•ç§¯åˆ†ï¼Œå¸–å­è¯„è®ºè½¬å‘ï¼Œè¶…è¯æ‰“æ¦œï¼Œç§¯åˆ†æŸ¥è¯¢äºä¸€ä½“çš„å¾®åšè¶…è¯å·¥å…·<br>æœ¬å·¥å…·ä½¿ç”¨çš„å¾®åš API æ¥å£åˆ†äº« â€”&gt; <a href="https://github.com/ReaJason/WeiBo_SuperTopics">https://github.com/ReaJason/WeiBo_SuperTopics</a></p><a id="more"></a></blockquote><div class="note note-danger">            <p>ç”±äºç™»å½•æ¥å£å¤±æ•ˆï¼Œæš‚æ— æ³•ä½¿ç”¨</p>          </div><h3 id="ä¸€ã€åŸºæœ¬åŠŸèƒ½"><a href="#ä¸€ã€åŸºæœ¬åŠŸèƒ½" class="headerlink" title="ä¸€ã€åŸºæœ¬åŠŸèƒ½"></a>ä¸€ã€åŸºæœ¬åŠŸèƒ½</h3><ol><li>å¾®åšè´¦å·ç™»å½•ï¼ŒéªŒè¯ç è‡ªåŠ¨è¯†åˆ«</li><li>å…³æ³¨è¶…è¯ç­¾åˆ° +16 åˆ† +6 ç‚¹ä»¥åç­¾åˆ°éšæœºç§¯åˆ†</li><li>æ¯æ—¥ç§¯åˆ†è·å– +3/+5/+8</li><li>å¾®åšè¶…è¯ APP ç™»å½•ç§¯åˆ† +10 åˆ†</li><li>è¶…è¯å¸–å­è¯„è®ºè½¬å‘ç‚¹èµ +16 åˆ†</li><li>ä»»åŠ¡ä¸­å¿ƒæŸ¥è¯¢ç§¯åˆ†</li><li>è¶…è¯æ‰“æ¦œ</li><li>ä¸€è¨€æ¬£èµ</li></ol><h3 id="äºŒã€ç•Œé¢æˆªå›¾"><a href="#äºŒã€ç•Œé¢æˆªå›¾" class="headerlink" title="äºŒã€ç•Œé¢æˆªå›¾"></a>äºŒã€ç•Œé¢æˆªå›¾</h3><div class="group-image-container"><div class="group-image-row"><div class="group-image-wrap"><img src="https://img.shields.io/badge/python-3.7.4-brightgreen?style=social&logo=appveyor"></div><div class="group-image-wrap"><img src="https://img.shields.io/badge/pyinstaller-4.0-brightgreen?style=social&logo=appveyor"></div><div class="group-image-wrap"><img src="https://img.shields.io/badge/PyQt5-5.15.1-brightgreen?style=social&logo=appveyor"></div><div class="group-image-wrap"><img src="https://img.shields.io/badge/requests-2.24.0-brightgreen?style=social&logo=appveyor"></div><div class="group-image-wrap"><img src="https://img.shields.io/badge/torch-1.0.1-brightgreen?style=social&logo=appveyor"></div></div></div><p><img src="https://cdn.jsdelivr.net/gh/LingSiKi/images/img/%E6%97%A0PyTorch%E7%89%88%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2.png" alt="æ—  PyTorch ç‰ˆç™»å½•ç•Œé¢"></p><center><p style="color:orange; font-size: 14px; border-bottom: 1px solid #d9d9d9;display: inline-block;color: #999;padding: 2px;">1ã€æ—  PyTorch ç‰ˆç™»å½•ç•Œé¢</p></center><p><img src="https://cdn.jsdelivr.net/gh/LingSiKi/images/img/PyTorch%E7%89%88%E7%99%BB%E5%BD%95%E7%95%8C%E9%9D%A2.png" alt="PyTorch ç‰ˆç™»å½•ç•Œé¢"></p><center><p style="color:orange; font-size: 14px; border-bottom: 1px solid #d9d9d9;display: inline-block;color: #999;padding: 2px;">2ã€PyTorch ç‰ˆç™»å½•ç•Œé¢</p></center><p><img src="https://cdn.jsdelivr.net/gh/LingSiKi/images/img/%E8%BF%90%E8%A1%8C%E7%95%8C%E9%9D%A2.png" alt="è¿è¡Œç•Œé¢"></p><center><p style="color:orange; font-size: 14px; border-bottom: 1px solid #d9d9d9;display: inline-block;color: #999;padding: 2px;">3ã€è¿è¡Œç•Œé¢</p></center><h3 id="ä¸‰ã€æ³¨æ„äº‹é¡¹"><a href="#ä¸‰ã€æ³¨æ„äº‹é¡¹" class="headerlink" title="ä¸‰ã€æ³¨æ„äº‹é¡¹"></a>ä¸‰ã€æ³¨æ„äº‹é¡¹</h3><ol><li><p>èŠ±äº†ç‚¹æ—¶é—´åšäº†ä¸¤ä¸ªç‰ˆæœ¬ï¼Œç¬¬ä¸€æ¬¡æ‰“åŒ…åˆ†äº«ï¼Œè¯·åœ¨ç½‘ç»œç¯å¢ƒè‰¯å¥½çš„æƒ…å†µä¸‹è¿è¡Œæœ¬ç¨‹åºï¼š</p><ul><li>æ—  PyTorch ç‰ˆï¼š<ul><li>åŸºäº Win7 32 ä½æ“ä½œç³»ç»Ÿæ‰“åŒ…ï¼Œé™¤äº† xp åº”è¯¥éƒ½å¯ä»¥è¿è¡Œ</li><li>æ‰‹åŠ¨è¾“å…¥éªŒè¯ç ï¼Œç”±äºæ²¡æœ‰é›†æˆ pytorchï¼Œç¨‹åºä½“ç§¯å°ï¼Œå¯åŠ¨å¿«</li><li>ä¸‹è½½åœ°å€ï¼š<ul><li><del><a href="https://pan.baidu.com/s/1sBs48GbNM7tzgOiGjvhy1Q">https://pan.baidu.com/s/1sBs48GbNM7tzgOiGjvhy1Q</a> æå–ç : 1111</del></li><li><del><a href="https://cloud.189.cn/t/r2YvqmEziqy2">https://cloud.189.cn/t/r2YvqmEziqy2</a> æå–ç ï¼šsk1z</del></li><li><del><a href="https://lingsiki.lanzous.com/i08NFhka96h">https://lingsiki.lanzous.com/i08NFhka96h</a> æå–ç :1111</del></li></ul></li><li>ä½¿ç”¨æ–¹æ³•ï¼š<ul><li>è§£å‹æ‰“å¼€exeæ–‡ä»¶</li><li>è¾“å…¥è´¦å·å¯†ç ï¼Œç‚¹å‡»éªŒè¯ï¼Œè¾“å…¥éªŒè¯ç ç™»å½•</li><li>ç™»å½•æˆåŠŸï¼Œç­‰å¾…è·å–è¶…è¯åˆ—è¡¨ï¼Œå…¨é€‰ï¼ˆå¯éšæ„é€‰æ‹©åŠŸèƒ½ï¼‰ï¼Œé€‰æ‹©æ‰“æ¦œè¶…è¯ï¼ˆå¯é€‰ï¼‰ï¼Œå¼€å§‹</li></ul></li></ul></li><li>PyTorch ç‰ˆï¼š<ul><li>åŸºäº Win10 64 ä½æ‰“åŒ…ï¼Œ32 ä½çš„æ“ä½œç³»ç»Ÿåº”è¯¥ç”¨ä¸äº†</li><li>è‡ªåŠ¨è¾“å…¥éªŒè¯ç ï¼Œä¼˜ç‚¹å°±æ˜¯ä¸éœ€è¦æ‰‹åŠ¨è¾“ï¼Œç¼ºç‚¹å°±ä½“ç§¯å¤§ï¼Œå¯åŠ¨ç•¥æ…¢</li><li>ä¸‹è½½åœ°å€ï¼š<ul><li><del><a href="https://pan.baidu.com/s/1TNQdRz_4wVpdVGBXTa3bgA">https://pan.baidu.com/s/1TNQdRz_4wVpdVGBXTa3bgA</a> æå–ç : 1111</del></li><li><del><a href="https://cloud.189.cn/t/iAzQbaRzmaIj">https://cloud.189.cn/t/iAzQbaRzmaIj</a> æå–ç ï¼škr0g</del></li></ul></li><li>ä½¿ç”¨æ–¹æ³•ï¼š<ul><li>è§£å‹æ‰“å¼€exeæ–‡ä»¶ï¼ˆå¯åŠ¨æœ‰ç‚¹æ…¢ï¼Œè€å¿ƒç­‰å¾…ï¼‰</li><li>è¾“å…¥è´¦å·å¯†ç ç‚¹å‡»ç™»å½•</li><li>ç™»å½•æˆåŠŸï¼Œç­‰å¾…è·å–è¶…è¯åˆ—è¡¨ï¼Œå…¨é€‰ï¼ˆå¯éšæ„é€‰æ‹©åŠŸèƒ½ï¼‰ï¼Œé€‰æ‹©æ‰“æ¦œè¶…è¯ï¼ˆå¯é€‰ï¼‰ï¼Œå¼€å§‹</li></ul></li></ul></li></ul></li><li><p>PyTorch ç‰ˆæ¥å…¥äº† <a href="https://github.com/skygongque/captcha-weibo">å¾®åšéªŒè¯ç è¯†åˆ«</a> çš„æ‰€ç”¨åˆ°çš„æ·±åº¦å­¦ä¹  Pytorch åŒ…ï¼ˆ90+ Mï¼Œæœ€æ–°çš„ç‰ˆæœ¬è¾¾åˆ°äº†å‡ ç™¾å…†ï¼‰ï¼Œå› æ­¤æ‰“åŒ…çš„ç¨‹åºä½“ç§¯ä¹Ÿæ— å¯é¿å…çš„å˜å¤§ï¼Œè€ƒè™‘è¿‡æœåŠ¡å™¨æ¶è®¾æ‰“ç æœåŠ¡ï¼Œä¸è¿‡æœ¬åœ°æ›´å®‰å…¨ï¼ˆæˆ‘ä¹Ÿæ²¡é’±ä¹°æœåŠ¡å™¨ğŸ˜›ï¼‰ã€‚</p></li><li><p>è¶…è¯æ‰“æ¦œåŠŸèƒ½å¼€å§‹å‰è¯·é€‰æ‹©æ‰“æ¦œè¶…è¯å’Œåˆ†æ•°åå†å¼€å§‹ã€‚</p><ul><li>select1 å¯¹åº” 1 åˆ†</li><li>select10 å¯¹åº” 10 åˆ†</li><li>select66 å¯¹åº” 66 åˆ†</li><li>select256 å¯¹åº”å…¨éƒ¨ç§¯åˆ†</li></ul></li><li><p>å¦‚æœå› æœªçŸ¥åŸå› é€ æˆè½¯ä»¶é—ªé€€è¯·åŠæ—¶åé¦ˆæˆ–é‡å¯ç¨‹åºå†è¯•ï¼š</p><ul><li>åé¦ˆæ ¼å¼ï¼šã€Œæ“ä½œç³»ç»Ÿã€+ã€Œé—ªé€€å‰ä½¿ç”¨çš„åŠŸèƒ½é€‰é¡¹ã€+ã€Œé—ªé€€å‰è¿è¡Œæ—¥å¿—çš„æˆªå›¾ã€ã€‚</li><li>æœ‰ä¸é”™çš„å»ºè®®ä¹Ÿå¯ä»¥æå‡ºæ¥ï¼ˆæ¯”å¦‚ UI ï¼‰</li><li>åé¦ˆè¯·å‘é‚®ç®±æˆ–åœ¨ GitHub æ issueï¼š<ul><li>Emailï¼š<a href="mailto:&#114;&#x65;&#97;&#x6a;&#x61;&#115;&#111;&#x6e;&#64;&#x31;&#54;&#x33;&#46;&#99;&#111;&#109;">&#114;&#x65;&#97;&#x6a;&#x61;&#115;&#111;&#x6e;&#64;&#x31;&#54;&#x33;&#46;&#99;&#111;&#109;</a></li><li>GitHubï¼š<a href="https://github.com/ReaJason/WeiBo_SuperTopics">https://github.com/ReaJason/WeiBo_SuperTopics</a></li></ul></li></ul></li><li><p>å…³äºç™»å½•ä¹‹åä¿å­˜æŒ‰é’®ï¼Œåªæ˜¯ä¸ºäº†ä¸‹æ¬¡å¯åŠ¨è‡ªåŠ¨è¾“å…¥ï¼ˆä¹Ÿå¯ä»¥è‡ªå·±ä¿®æ”¹ï¼‰ï¼Œä¼šåœ¨ç¨‹åºè¿è¡Œçš„è·¯å¾„ä¸‹ä¿å­˜è´¦å·å’Œå¯†ç çš„æ˜æ–‡ï¼ˆä»‹æ„å‹¿ç”¨ï¼‰ã€‚</p></li><li><p>ç”±äºå¾®åšçš„ä¸€äº›æ²™é›•æ£€æµ‹ï¼Œè¯·ä¸è¦ä¸€å°è®¾å¤‡ç™»å½•å¤ªå¤šè´¦å·ï¼Œå¯èƒ½ä¼šå‡ºç°å¼‚å¸¸çš„æƒ…å†µï¼Œæ¯”å¦‚æ— æ³•ç­¾åˆ°ï¼Œæ— æ³•å‘å¾®åšï¼Œç”šè‡³å†»ç»“çš„æƒ…å†µ</p></li></ol><h3 id="å››ã€å…è´£å£°æ˜"><a href="#å››ã€å…è´£å£°æ˜" class="headerlink" title="å››ã€å…è´£å£°æ˜"></a>å››ã€å…è´£å£°æ˜</h3><ol><li>æœ¬ç¨‹åºåªä¾›å‚è€ƒå­¦ä¹ ï¼Œè¯·å‹¿ç”¨äºè¿æ³•ç”¨é€”</li><li>ä½¿ç”¨æœ¬ç¨‹åºå¯¼è‡´å¾®åšè´¦å·å¼‚å¸¸æˆ–å†»ç»“ç”šè‡³å°ç¦éƒ½ä¸ä½œè€…æ— å…³</li><li>å‡¡ä»¥ä»»ä½•æ–¹å¼ä¸‹è½½ä½¿ç”¨æœ¬ç¨‹åºè€…ï¼Œè§†ä¸ºè‡ªæ„¿æ¥å—æœ¬å£°æ˜çº¦æŸã€‚</li></ol><h3 id="äº”ã€å‚è€ƒé¡¹ç›®"><a href="#äº”ã€å‚è€ƒé¡¹ç›®" class="headerlink" title="äº”ã€å‚è€ƒé¡¹ç›®"></a>äº”ã€å‚è€ƒé¡¹ç›®</h3><ol><li><a href="https://github.com/skygongque/captcha-weibo">https://github.com/skygongque/captcha-weibo</a></li><li><a href="https://github.com/wxy1343/weibo_points">https://github.com/wxy1343/weibo_points</a></li><li><a href="https://github.com/sparanoid/chinese-copywriting-guidelines/blob/master/README.zh-CN.md">ä¸­æ–‡æ–‡æ¡ˆæŒ‡åŒ—</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>PyQt5</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å®Œç¾æ ¡å›­å¥åº·æ‰“å¡&amp;æ ¡å†…æ‰“å¡</title>
    <link href="/2020/06/28/17wanxiaoCheckin/"/>
    <url>/2020/06/28/17wanxiaoCheckin/</url>
    
    <content type="html"><![CDATA[<blockquote><p>åŸºäºGitHub Actionsçš„å®Œç¾æ ¡å›­æ‰“å¡ï¼Œæ”¯æŒå¤šäººæ‰“å¡ï¼Œæ”¯æŒæ‰“å¡å­—æ®µä¿¡æ¯å±•ç¤ºï¼Œæ”¯æŒå¾®ä¿¡æ¨é€ï¼Œæ¯å¤©æ—©ä¸Šå…­ç‚¹è‡ªåŠ¨æ‰“å¡ï¼Œç†è®ºä¸Šæ‰€æœ‰å­¦æ ¡é€šç”¨ï¼ï¼</p><a id="more"></a></blockquote><div class="note note-success">            <p>é¡¹ç›®åœ°å€ï¼š<a href="https://github.com/ReaJason/17wanxiaoCheckin-Actions">https://github.com/ReaJason/17wanxiaoCheckin-Actions</a></p>          </div><div class="note note-success">            <p>ä¹‹å‰çš„æŠ“åŒ…éƒ¨ç½²æ•™ç¨‹è¯·å‰å¾€ï¼š<a href="https://github.com/ReaJason/17wanxiaoCheckin-Actions/blob/master/README_LAST.md">å®Œç¾æ ¡å›­æŠ“åŒ…æ‰“å¡</a>ï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œå­¦ä¹ æ¨¡æ‹Ÿå™¨æŠ“åŒ…APPç­¾åˆ°è¯·æ±‚å“¦ã€‚</p>          </div><h2 id="ä¸€ã€åŠŸèƒ½ä»‹ç»"><a href="#ä¸€ã€åŠŸèƒ½ä»‹ç»" class="headerlink" title="ä¸€ã€åŠŸèƒ½ä»‹ç»"></a>ä¸€ã€åŠŸèƒ½ä»‹ç»</h2><ol><li>å®Œç¾æ ¡å›­æ¨¡æ‹Ÿç™»å½•è·å– token</li><li>è‡ªåŠ¨è·å–ä¸Šæ¬¡æäº¤çš„æ‰“å¡æ•°æ®</li><li>è‡ªåŠ¨åŒ–ä»»åŠ¡åˆ†ä¸‰æ¬¡è¿è¡Œï¼ˆpsï¼šæ²¡æœ‰æ ¡å†…æ‰“å¡å°±ä¸ä¼šæ ¡å†…æ‰“å¡ï¼Œæ²¡æœ‰æ™šä¸Šæ‰“å¡ä¹Ÿä¸ä¼šæ™šä¸Šæ‰“å¡çš„ï¼‰<ul><li><code>ä¸Šåˆå…­ç‚¹</code>ï¼šå¥åº·æ‰“å¡ï¼Œä¸Šåˆæ ¡å†…æ‰“å¡ï¼›</li><li><code>ä¸­åˆåäºŒç‚¹</code>ï¼šå¥åº·æ‰“å¡ï¼Œä¸‹åˆæ ¡å†…æ‰“å¡ï¼›</li><li><code>ä¸‹åˆäº”ç‚¹</code>ï¼šå¥åº·æ‰“å¡ï¼Œæ™šä¸Šæ ¡å†…æ‰“å¡ï¼›</li></ul></li><li>å¾®ä¿¡æ¨é€æ‰“å¡æ¶ˆæ¯</li></ol><h2 id="äºŒã€æ‰“å¡æ•°æ®"><a href="#äºŒã€æ‰“å¡æ•°æ®" class="headerlink" title="äºŒã€æ‰“å¡æ•°æ®"></a>äºŒã€æ‰“å¡æ•°æ®</h2><p>ç»†å¿ƒçš„ä½ åº”è¯¥ä¼šå‘ç°ï¼Œè‡ªä»ç¬¬ä¸€æ¬¡æ‰“å¡ä¹‹åï¼Œæ¯æ¬¡è¿›å»ä¿¡æ¯åŸºæœ¬è‡ªåŠ¨å¡«å†™å¥½äº†ï¼Œæˆ‘æŠ“å–çš„å°±æ˜¯è¿™ä¸ªæ¥å£ï¼Œè¿™æ ·å­ä¹Ÿç›¸å½“äºå¤§å®¶ä¸ç”¨æŠ“åŒ…äº†ï¼Œå¦‚æœä½ è¿›å…¥å®Œç¾æ ¡å›­å¥åº·æ‰“å¡ç•Œé¢ï¼Œå®ƒæ²¡æœ‰è‡ªåŠ¨å¡«å†™ä¿¡æ¯ï¼Œå¯èƒ½æœ¬é¡¹ç›®ä¹Ÿå°±ä¸èµ·ä½œç”¨äº†ï¼Œå¯ä»¥è¯•è¯•æ‰“ä¸€æ¬¡å¡ç„¶åå†è¿›å…¥çœ‹æœ‰æ— è‡ªåŠ¨å¡«å……ä¿¡æ¯ã€‚</p><h3 id="1ã€è·å–ä¸Šæ¬¡æ‰“å¡ä¿¡æ¯"><a href="#1ã€è·å–ä¸Šæ¬¡æ‰“å¡ä¿¡æ¯" class="headerlink" title="1ã€è·å–ä¸Šæ¬¡æ‰“å¡ä¿¡æ¯"></a>1ã€è·å–ä¸Šæ¬¡æ‰“å¡ä¿¡æ¯</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_post_json</span>(<span class="hljs-params">jsons</span>):</span><br>    retry = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">while</span> retry &lt; <span class="hljs-number">3</span>:<br>        <span class="hljs-keyword">try</span>:<br>            res = requests.post(url=<span class="hljs-string">&quot;https://reportedh5.17wanxiao.com/sass/api/epmpics&quot;</span>, json=jsons, timeout=<span class="hljs-number">10</span>).json()<br>            <span class="hljs-comment"># print(res)</span><br>        <span class="hljs-keyword">except</span> BaseException:<br>            retry += <span class="hljs-number">1</span><br>            logging.warning(<span class="hljs-string">&#x27;è·å–å®Œç¾æ ¡å›­æ‰“å¡postå‚æ•°å¤±è´¥ï¼Œæ­£åœ¨é‡è¯•...&#x27;</span>)<br>            time.sleep(<span class="hljs-number">1</span>)<br>            <span class="hljs-keyword">continue</span><br>        <span class="hljs-keyword">if</span> res[<span class="hljs-string">&#x27;code&#x27;</span>] != <span class="hljs-string">&#x27;10000&#x27;</span>:<br>            <span class="hljs-comment"># logging.warning(res)</span><br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br>        data = json.loads(res[<span class="hljs-string">&#x27;data&#x27;</span>])<br>        post_dict = &#123;<br>            <span class="hljs-string">&quot;areaStr&quot;</span>: data[<span class="hljs-string">&#x27;areaStr&#x27;</span>],<br>            <span class="hljs-string">&quot;deptStr&quot;</span>: data[<span class="hljs-string">&#x27;deptStr&#x27;</span>],<br>            <span class="hljs-string">&quot;deptid&quot;</span>: data[<span class="hljs-string">&#x27;deptStr&#x27;</span>][<span class="hljs-string">&#x27;deptid&#x27;</span>],<br>            <span class="hljs-string">&quot;customerid&quot;</span>: data[<span class="hljs-string">&#x27;customerid&#x27;</span>],<br>            <span class="hljs-string">&quot;userid&quot;</span>: data[<span class="hljs-string">&#x27;userid&#x27;</span>],<br>            <span class="hljs-string">&quot;username&quot;</span>: data[<span class="hljs-string">&#x27;username&#x27;</span>],<br>            <span class="hljs-string">&quot;stuNo&quot;</span>: data[<span class="hljs-string">&#x27;stuNo&#x27;</span>],<br>            <span class="hljs-string">&quot;phonenum&quot;</span>: data[<span class="hljs-string">&#x27;phonenum&#x27;</span>],<br>            <span class="hljs-string">&quot;templateid&quot;</span>: data[<span class="hljs-string">&#x27;templateid&#x27;</span>],<br>            <span class="hljs-string">&quot;updatainfo&quot;</span>: [&#123;<span class="hljs-string">&quot;propertyname&quot;</span>: i[<span class="hljs-string">&quot;propertyname&quot;</span>], <span class="hljs-string">&quot;value&quot;</span>: i[<span class="hljs-string">&quot;value&quot;</span>]&#125; <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span><br>                           data[<span class="hljs-string">&#x27;cusTemplateRelations&#x27;</span>]],<br>            <span class="hljs-string">&quot;checkbox&quot;</span>: [&#123;<span class="hljs-string">&quot;description&quot;</span>: i[<span class="hljs-string">&quot;decription&quot;</span>], <span class="hljs-string">&quot;value&quot;</span>: i[<span class="hljs-string">&quot;value&quot;</span>]&#125; <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span><br>                         data[<span class="hljs-string">&#x27;cusTemplateRelations&#x27;</span>]],<br>        &#125;<br>        <span class="hljs-comment"># print(json.dumps(post_dict, sort_keys=True, indent=4, ensure_ascii=False))</span><br>        logging.info(<span class="hljs-string">&#x27;è·å–å®Œç¾æ ¡å›­æ‰“å¡postå‚æ•°æˆåŠŸ&#x27;</span>)<br>        <span class="hljs-keyword">return</span> post_dict<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br><br><span class="hljs-comment"># ç”¨æ¥è·å–å¥åº·æ‰“å¡æ‰“å¡æ•°æ®çš„jsonå­—æ®µ</span><br>json1 = &#123;<span class="hljs-string">&quot;businessType&quot;</span>: <span class="hljs-string">&quot;epmpics&quot;</span>,<br>             <span class="hljs-string">&quot;jsonData&quot;</span>: &#123;<span class="hljs-string">&quot;templateid&quot;</span>: <span class="hljs-string">&quot;pneumonia&quot;</span>, <span class="hljs-string">&quot;token&quot;</span>: token&#125;,<br>             <span class="hljs-string">&quot;method&quot;</span>: <span class="hljs-string">&quot;userComeApp&quot;</span>&#125;<br>post_dict = get_post_json(json1)<br><br><span class="hljs-comment"># ç”¨æ¥è·å–æ ¡å†…æ‰“å¡æ‰“å¡æ•°æ®çš„jsonå­—æ®µ</span><br>json2 = &#123;<span class="hljs-string">&quot;businessType&quot;</span>: <span class="hljs-string">&quot;epmpics&quot;</span>,<br>         <span class="hljs-string">&quot;jsonData&quot;</span>: &#123;<span class="hljs-string">&quot;templateid&quot;</span>: id_list[<span class="hljs-string">&#x27;templateid&#x27;</span>], <span class="hljs-string">&quot;customerAppTypeRuleId&quot;</span>: id_list[<span class="hljs-string">&#x27;id&#x27;</span>],<br>                      <span class="hljs-string">&quot;stuNo&quot;</span>: post_dict[<span class="hljs-string">&#x27;stuNo&#x27;</span>],<br>                      <span class="hljs-string">&quot;token&quot;</span>: token&#125;, <span class="hljs-string">&quot;method&quot;</span>: <span class="hljs-string">&quot;userComeAppSchool&quot;</span>,<br>         <span class="hljs-string">&quot;token&quot;</span>: token&#125;<br>campus_dict = get_post_json(json2)<br></code></pre></td></tr></table></figure><h3 id="2ã€è·å–æœ¬æ ¡æ ¡å†…æ‰“å¡æ¨¡æ¿id"><a href="#2ã€è·å–æœ¬æ ¡æ ¡å†…æ‰“å¡æ¨¡æ¿id" class="headerlink" title="2ã€è·å–æœ¬æ ¡æ ¡å†…æ‰“å¡æ¨¡æ¿id"></a>2ã€è·å–æœ¬æ ¡æ ¡å†…æ‰“å¡æ¨¡æ¿id</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_custom_id</span>(<span class="hljs-params">token</span>):</span><br>    data = &#123;<br>        <span class="hljs-string">&quot;appClassify&quot;</span>: <span class="hljs-string">&quot;DK&quot;</span>,<br>        <span class="hljs-string">&quot;token&quot;</span>: token<br>    &#125;<br>    <span class="hljs-keyword">try</span>:<br>        res = requests.post(<span class="hljs-string">&quot;https://reportedh5.17wanxiao.com/api/clock/school/getUserInfo&quot;</span>, data=data)<br>        <span class="hljs-comment"># print(res.text)</span><br>        custom = res.json()[<span class="hljs-string">&#x27;userInfo&#x27;</span>].get(<span class="hljs-string">&#x27;customerAppTypeId&#x27;</span>)<br>        <span class="hljs-keyword">if</span> custom:<br>            <span class="hljs-keyword">return</span> custom<br>        <span class="hljs-keyword">return</span> res.json()[<span class="hljs-string">&#x27;userInfo&#x27;</span>].get(<span class="hljs-string">&#x27;customerId&#x27;</span>)<br>    <span class="hljs-keyword">except</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br><br></code></pre></td></tr></table></figure><h3 id="3ã€è·å–æœ¬æ ¡æ ¡å†…æ‰“å¡id"><a href="#3ã€è·å–æœ¬æ ¡æ ¡å†…æ‰“å¡id" class="headerlink" title="3ã€è·å–æœ¬æ ¡æ ¡å†…æ‰“å¡id"></a>3ã€è·å–æœ¬æ ¡æ ¡å†…æ‰“å¡id</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_id_list</span>(<span class="hljs-params">token, custom_id</span>):</span><br>    post_data = &#123;<br>        <span class="hljs-string">&quot;customerAppTypeId&quot;</span>: custom_id,<br>        <span class="hljs-string">&quot;longitude&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;latitude&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;token&quot;</span>: token<br>    &#125;<br>    <span class="hljs-keyword">try</span>:<br>        res = requests.post(<span class="hljs-string">&quot;https://reportedh5.17wanxiao.com/api/clock/school/rules&quot;</span>, data=post_data)<br>        <span class="hljs-comment"># print(res.text)</span><br>        <span class="hljs-keyword">return</span> res.json()[<span class="hljs-string">&#x27;customerAppTypeDto&#x27;</span>][<span class="hljs-string">&#x27;ruleList&#x27;</span>]<br>    <span class="hljs-keyword">except</span>:<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br></code></pre></td></tr></table></figure><h3 id="4ã€å¥åº·æ‰“å¡"><a href="#4ã€å¥åº·æ‰“å¡" class="headerlink" title="4ã€å¥åº·æ‰“å¡"></a>4ã€å¥åº·æ‰“å¡</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">healthy_check_in</span>(<span class="hljs-params">username, token, post_dict</span>):</span><br>    check_json = &#123;<span class="hljs-string">&quot;businessType&quot;</span>: <span class="hljs-string">&quot;epmpics&quot;</span>, <span class="hljs-string">&quot;method&quot;</span>: <span class="hljs-string">&quot;submitUpInfo&quot;</span>,<br>                  <span class="hljs-string">&quot;jsonData&quot;</span>: &#123;<span class="hljs-string">&quot;deptStr&quot;</span>: post_dict[<span class="hljs-string">&#x27;deptStr&#x27;</span>], <span class="hljs-string">&quot;areaStr&quot;</span>: post_dict[<span class="hljs-string">&#x27;areaStr&#x27;</span>],<br>                               <span class="hljs-string">&quot;reportdate&quot;</span>: round(time.time() * <span class="hljs-number">1000</span>), <span class="hljs-string">&quot;customerid&quot;</span>: post_dict[<span class="hljs-string">&#x27;customerid&#x27;</span>],<br>                               <span class="hljs-string">&quot;deptid&quot;</span>: post_dict[<span class="hljs-string">&#x27;deptid&#x27;</span>], <span class="hljs-string">&quot;source&quot;</span>: <span class="hljs-string">&quot;app&quot;</span>,<br>                               <span class="hljs-string">&quot;templateid&quot;</span>: post_dict[<span class="hljs-string">&#x27;templateid&#x27;</span>], <span class="hljs-string">&quot;stuNo&quot;</span>: post_dict[<span class="hljs-string">&#x27;stuNo&#x27;</span>],<br>                               <span class="hljs-string">&quot;username&quot;</span>: post_dict[<span class="hljs-string">&#x27;username&#x27;</span>], <span class="hljs-string">&quot;phonenum&quot;</span>: username,<br>                               <span class="hljs-string">&quot;userid&quot;</span>: post_dict[<span class="hljs-string">&#x27;userid&#x27;</span>], <span class="hljs-string">&quot;updatainfo&quot;</span>: post_dict[<span class="hljs-string">&#x27;updatainfo&#x27;</span>],<br>                               <span class="hljs-string">&quot;gpsType&quot;</span>: <span class="hljs-number">1</span>, <span class="hljs-string">&quot;token&quot;</span>: token&#125;,<br>                  &#125;<br>    <span class="hljs-keyword">try</span>:<br>        res = requests.post(<span class="hljs-string">&quot;https://reportedh5.17wanxiao.com/sass/api/epmpics&quot;</span>, json=check_json).json()<br>        <span class="hljs-comment"># ä»¥jsonæ ¼å¼æ‰“å°jsonå­—ç¬¦ä¸²</span><br>        <span class="hljs-keyword">if</span> res[<span class="hljs-string">&#x27;code&#x27;</span>] != <span class="hljs-string">&#x27;10000&#x27;</span>:<br>            logging.warning(res)<br>            <span class="hljs-keyword">return</span> dict(status=<span class="hljs-number">1</span>, res=res, post_dict=post_dict, check_json=check_json, type=<span class="hljs-string">&#x27;healthy&#x27;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            logging.info(res)<br>            <span class="hljs-keyword">return</span> dict(status=<span class="hljs-number">1</span>, res=res, post_dict=post_dict, check_json=check_json, type=<span class="hljs-string">&#x27;healthy&#x27;</span>)<br>    <span class="hljs-keyword">except</span> BaseException:<br>        errmsg = <span class="hljs-string">f&quot;```æ‰“å¡è¯·æ±‚å‡ºé”™```&quot;</span><br>        logging.warning(<span class="hljs-string">&#x27;æ ¡å†…æ‰“å¡è¯·æ±‚å‡ºé”™&#x27;</span>)<br>        <span class="hljs-keyword">return</span> dict(status=<span class="hljs-number">0</span>, errmsg=errmsg)<br></code></pre></td></tr></table></figure><h3 id="5ã€æ ¡å†…æ‰“å¡"><a href="#5ã€æ ¡å†…æ‰“å¡" class="headerlink" title="5ã€æ ¡å†…æ‰“å¡"></a>5ã€æ ¡å†…æ‰“å¡</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">campus_check_in</span>(<span class="hljs-params">username, token, post_dict, id</span>):</span><br>    check_json = &#123;<span class="hljs-string">&quot;businessType&quot;</span>: <span class="hljs-string">&quot;epmpics&quot;</span>, <span class="hljs-string">&quot;method&quot;</span>: <span class="hljs-string">&quot;submitUpInfoSchool&quot;</span>,<br>                  <span class="hljs-string">&quot;jsonData&quot;</span>: &#123;<span class="hljs-string">&quot;deptStr&quot;</span>: post_dict[<span class="hljs-string">&#x27;deptStr&#x27;</span>],<br>                               <span class="hljs-string">&quot;areaStr&quot;</span>: post_dict[<span class="hljs-string">&#x27;areaStr&#x27;</span>],<br>                               <span class="hljs-string">&quot;reportdate&quot;</span>: round(time.time() * <span class="hljs-number">1000</span>), <span class="hljs-string">&quot;customerid&quot;</span>: post_dict[<span class="hljs-string">&#x27;customerid&#x27;</span>],<br>                               <span class="hljs-string">&quot;deptid&quot;</span>: post_dict[<span class="hljs-string">&#x27;deptid&#x27;</span>], <span class="hljs-string">&quot;source&quot;</span>: <span class="hljs-string">&quot;app&quot;</span>,<br>                               <span class="hljs-string">&quot;templateid&quot;</span>: post_dict[<span class="hljs-string">&#x27;templateid&#x27;</span>], <span class="hljs-string">&quot;stuNo&quot;</span>: post_dict[<span class="hljs-string">&#x27;stuNo&#x27;</span>],<br>                               <span class="hljs-string">&quot;username&quot;</span>: post_dict[<span class="hljs-string">&#x27;username&#x27;</span>], <span class="hljs-string">&quot;phonenum&quot;</span>: username,<br>                               <span class="hljs-string">&quot;userid&quot;</span>: post_dict[<span class="hljs-string">&#x27;userid&#x27;</span>], <span class="hljs-string">&quot;updatainfo&quot;</span>: post_dict[<span class="hljs-string">&#x27;updatainfo&#x27;</span>],<br>                               <span class="hljs-string">&quot;customerAppTypeRuleId&quot;</span>: id, <span class="hljs-string">&quot;clockState&quot;</span>: <span class="hljs-number">0</span>, <span class="hljs-string">&quot;token&quot;</span>: token&#125;,<br>                  <span class="hljs-string">&quot;token&quot;</span>: token<br>                  &#125;<br>    <span class="hljs-comment"># print(check_json)</span><br>    <span class="hljs-keyword">try</span>:<br>        res = requests.post(<span class="hljs-string">&quot;https://reportedh5.17wanxiao.com/sass/api/epmpics&quot;</span>, json=check_json).json()<br><br>        <span class="hljs-comment"># ä»¥jsonæ ¼å¼æ‰“å°jsonå­—ç¬¦ä¸²</span><br>        <span class="hljs-keyword">if</span> res[<span class="hljs-string">&#x27;code&#x27;</span>] != <span class="hljs-string">&#x27;10000&#x27;</span>:<br>            logging.warning(res)<br>            <span class="hljs-keyword">return</span> dict(status=<span class="hljs-number">1</span>, res=res, post_dict=post_dict, check_json=check_json, type=post_dict[<span class="hljs-string">&#x27;templateid&#x27;</span>])<br>        <span class="hljs-keyword">else</span>:<br>            logging.info(res)<br>            <span class="hljs-keyword">return</span> dict(status=<span class="hljs-number">1</span>, res=res, post_dict=post_dict, check_json=check_json, type=post_dict[<span class="hljs-string">&#x27;templateid&#x27;</span>])<br>    <span class="hljs-keyword">except</span> BaseException:<br>        errmsg = <span class="hljs-string">f&quot;```æ ¡å†…æ‰“å¡è¯·æ±‚å‡ºé”™```&quot;</span><br>        logging.warning(<span class="hljs-string">&#x27;æ ¡å†…æ‰“å¡è¯·æ±‚å‡ºé”™&#x27;</span>)<br>        <span class="hljs-keyword">return</span> dict(status=<span class="hljs-number">0</span>, errmsg=errmsg)<br></code></pre></td></tr></table></figure><h3 id="6ã€è·å–ç¬¬äºŒç±»å¥åº·æ‰“å¡çš„ä¿¡æ¯"><a href="#6ã€è·å–ç¬¬äºŒç±»å¥åº·æ‰“å¡çš„ä¿¡æ¯" class="headerlink" title="6ã€è·å–ç¬¬äºŒç±»å¥åº·æ‰“å¡çš„ä¿¡æ¯"></a>6ã€è·å–ç¬¬äºŒç±»å¥åº·æ‰“å¡çš„ä¿¡æ¯</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_recall_data</span>(<span class="hljs-params">token</span>):</span><br>    retry = <span class="hljs-number">0</span><br>    <span class="hljs-keyword">while</span> retry &lt; <span class="hljs-number">3</span>:<br>        <span class="hljs-keyword">try</span>:<br>            res = requests.post(url=<span class="hljs-string">&quot;https://reportedh5.17wanxiao.com/api/reported/recall&quot;</span>, data=&#123;<span class="hljs-string">&quot;token&quot;</span>: token&#125;, timeout=<span class="hljs-number">10</span>).json()<br>        <span class="hljs-keyword">except</span> BaseException:<br>            retry += <span class="hljs-number">1</span><br>            logging.warning(<span class="hljs-string">&#x27;è·å–å®Œç¾æ ¡å›­æ‰“å¡postå‚æ•°å¤±è´¥ï¼Œæ­£åœ¨é‡è¯•...&#x27;</span>)<br>            time.sleep(<span class="hljs-number">1</span>)<br>            <span class="hljs-keyword">continue</span><br>        <span class="hljs-keyword">if</span> res[<span class="hljs-string">&#x27;code&#x27;</span>] == <span class="hljs-number">0</span>:<br>            logging.info(<span class="hljs-string">&#x27;è·å–å®Œç¾æ ¡å›­æ‰“å¡postå‚æ•°æˆåŠŸ&#x27;</span>)<br>            <span class="hljs-keyword">return</span> res[<span class="hljs-string">&#x27;data&#x27;</span>]<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">None</span><br></code></pre></td></tr></table></figure><h3 id="7ã€ç¬¬äºŒç±»å¥åº·æ‰“å¡"><a href="#7ã€ç¬¬äºŒç±»å¥åº·æ‰“å¡" class="headerlink" title="7ã€ç¬¬äºŒç±»å¥åº·æ‰“å¡"></a>7ã€ç¬¬äºŒç±»å¥åº·æ‰“å¡</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">receive_check_in</span>(<span class="hljs-params">token, custom_id, post_dict</span>):</span><br>    check_json = &#123;<br>        <span class="hljs-string">&quot;userId&quot;</span>: post_dict[<span class="hljs-string">&#x27;userId&#x27;</span>],<br>        <span class="hljs-string">&quot;name&quot;</span>: post_dict[<span class="hljs-string">&#x27;name&#x27;</span>],<br>        <span class="hljs-string">&quot;stuNo&quot;</span>: post_dict[<span class="hljs-string">&#x27;stuNo&#x27;</span>],<br>        <span class="hljs-string">&quot;whereabouts&quot;</span>: post_dict[<span class="hljs-string">&#x27;whereabouts&#x27;</span>],<br>        <span class="hljs-string">&quot;familyWhereabouts&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;beenToWuhan&quot;</span>: post_dict[<span class="hljs-string">&#x27;beenToWuhan&#x27;</span>],<br>        <span class="hljs-string">&quot;contactWithPatients&quot;</span>: post_dict[<span class="hljs-string">&#x27;contactWithPatients&#x27;</span>],<br>        <span class="hljs-string">&quot;symptom&quot;</span>: post_dict[<span class="hljs-string">&#x27;symptom&#x27;</span>],<br>        <span class="hljs-string">&quot;fever&quot;</span>: post_dict[<span class="hljs-string">&#x27;fever&#x27;</span>],<br>        <span class="hljs-string">&quot;cough&quot;</span>: post_dict[<span class="hljs-string">&#x27;cough&#x27;</span>],<br>        <span class="hljs-string">&quot;soreThroat&quot;</span>: post_dict[<span class="hljs-string">&#x27;soreThroat&#x27;</span>],<br>        <span class="hljs-string">&quot;debilitation&quot;</span>: post_dict[<span class="hljs-string">&#x27;debilitation&#x27;</span>],<br>        <span class="hljs-string">&quot;diarrhea&quot;</span>: post_dict[<span class="hljs-string">&#x27;diarrhea&#x27;</span>],<br>        <span class="hljs-string">&quot;cold&quot;</span>: post_dict[<span class="hljs-string">&#x27;cold&#x27;</span>],<br>        <span class="hljs-string">&quot;staySchool&quot;</span>: post_dict[<span class="hljs-string">&#x27;staySchool&#x27;</span>],<br>        <span class="hljs-string">&quot;contacts&quot;</span>: post_dict[<span class="hljs-string">&#x27;contacts&#x27;</span>],<br>        <span class="hljs-string">&quot;emergencyPhone&quot;</span>: post_dict[<span class="hljs-string">&#x27;emergencyPhone&#x27;</span>],<br>        <span class="hljs-string">&quot;address&quot;</span>: post_dict[<span class="hljs-string">&#x27;address&#x27;</span>],<br>        <span class="hljs-string">&quot;familyForAddress&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;collegeId&quot;</span>: post_dict[<span class="hljs-string">&#x27;collegeId&#x27;</span>],<br>        <span class="hljs-string">&quot;majorId&quot;</span>: post_dict[<span class="hljs-string">&#x27;majorId&#x27;</span>],<br>        <span class="hljs-string">&quot;classId&quot;</span>: post_dict[<span class="hljs-string">&#x27;classId&#x27;</span>],<br>        <span class="hljs-string">&quot;classDescribe&quot;</span>: post_dict[<span class="hljs-string">&#x27;classDescribe&#x27;</span>],<br>        <span class="hljs-string">&quot;temperature&quot;</span>: post_dict[<span class="hljs-string">&#x27;temperature&#x27;</span>],<br>        <span class="hljs-string">&quot;confirmed&quot;</span>: post_dict[<span class="hljs-string">&#x27;confirmed&#x27;</span>],<br>        <span class="hljs-string">&quot;isolated&quot;</span>: post_dict[<span class="hljs-string">&#x27;isolated&#x27;</span>],<br>        <span class="hljs-string">&quot;passingWuhan&quot;</span>: post_dict[<span class="hljs-string">&#x27;passingWuhan&#x27;</span>],<br>        <span class="hljs-string">&quot;passingHubei&quot;</span>: post_dict[<span class="hljs-string">&#x27;passingHubei&#x27;</span>],<br>        <span class="hljs-string">&quot;patientSide&quot;</span>: post_dict[<span class="hljs-string">&#x27;patientSide&#x27;</span>],<br>        <span class="hljs-string">&quot;patientContact&quot;</span>: post_dict[<span class="hljs-string">&#x27;patientContact&#x27;</span>],<br>        <span class="hljs-string">&quot;mentalHealth&quot;</span>: post_dict[<span class="hljs-string">&#x27;mentalHealth&#x27;</span>],<br>        <span class="hljs-string">&quot;wayToSchool&quot;</span>: post_dict[<span class="hljs-string">&#x27;wayToSchool&#x27;</span>],<br>        <span class="hljs-string">&quot;backToSchool&quot;</span>: post_dict[<span class="hljs-string">&#x27;backToSchool&#x27;</span>],<br>        <span class="hljs-string">&quot;haveBroadband&quot;</span>: post_dict[<span class="hljs-string">&#x27;haveBroadband&#x27;</span>],<br>        <span class="hljs-string">&quot;emergencyContactName&quot;</span>: post_dict[<span class="hljs-string">&#x27;emergencyContactName&#x27;</span>],<br>        <span class="hljs-string">&quot;helpInfo&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;passingCity&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;longitude&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;latitude&quot;</span>: <span class="hljs-string">&quot;&quot;</span>,<br>        <span class="hljs-string">&quot;token&quot;</span>: token,<br>    &#125;<br>    headers = &#123;<br>        <span class="hljs-string">&#x27;referer&#x27;</span>: <span class="hljs-string">f&#x27;https://reportedh5.17wanxiao.com/nCovReport/index.html?token=<span class="hljs-subst">&#123;token&#125;</span>&amp;customerId=<span class="hljs-subst">&#123;custom_id&#125;</span>&#x27;</span>,<br>        <span class="hljs-string">&#x27;content-type&#x27;</span>: <span class="hljs-string">&#x27;application/x-www-form-urlencoded;charset=UTF-8&#x27;</span><br>    &#125;<br>    <span class="hljs-keyword">try</span>:<br>        res = requests.post(<span class="hljs-string">&quot;https://reportedh5.17wanxiao.com/api/reported/receive&quot;</span>, headers=headers, data=check_json).json()<br>        <span class="hljs-comment"># ä»¥jsonæ ¼å¼æ‰“å°jsonå­—ç¬¦ä¸²</span><br>        <span class="hljs-comment"># print(res)</span><br>        <span class="hljs-keyword">if</span> res[<span class="hljs-string">&#x27;code&#x27;</span>] == <span class="hljs-number">0</span>:<br>            logging.info(res)<br>            <span class="hljs-keyword">return</span> dict(status=<span class="hljs-number">1</span>, res=res, post_dict=post_dict, check_json=check_json, type=<span class="hljs-string">&#x27;healthy&#x27;</span>)<br>        <span class="hljs-keyword">else</span>:<br>            logging.warning(res)<br>            <span class="hljs-keyword">return</span> dict(status=<span class="hljs-number">1</span>, res=res, post_dict=post_dict, check_json=check_json, type=<span class="hljs-string">&#x27;healthy&#x27;</span>)<br>    <span class="hljs-keyword">except</span> BaseException:<br>        errmsg = <span class="hljs-string">f&quot;```æ‰“å¡è¯·æ±‚å‡ºé”™```&quot;</span><br>        logging.warning(<span class="hljs-string">&#x27;æ‰“å¡è¯·æ±‚å‡ºé”™ï¼Œç½‘ç»œä¸ç¨³å®š&#x27;</span>)<br>        <span class="hljs-keyword">return</span> dict(status=<span class="hljs-number">0</span>, errmsg=errmsg)<br></code></pre></td></tr></table></figure><h2 id="ä¸‰ã€ä½¿ç”¨æ–¹æ³•"><a href="#ä¸‰ã€ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä¸‰ã€ä½¿ç”¨æ–¹æ³•"></a>ä¸‰ã€ä½¿ç”¨æ–¹æ³•</h2><ol><li><p>è¯·å…ˆç¡®ä¿è¿›å…¥å¥åº·æ‰“å¡ç•Œé¢ï¼Œä¿¡æ¯èƒ½å¤Ÿ **æ­£ç¡® **çš„è‡ªåŠ¨å¡«å†™ï¼ˆæ²¡æœ‰è‡ªåŠ¨å¡«å†™çš„é¡¹ï¼Œå¯ä»¥è‡ªè¡Œä¿®æ”¹ä»£ç ï¼‰</p></li><li><p>ç‚¹å‡»å³ä¸Šè§’çš„ <code>fork</code>ï¼Œ<code>fork</code> æœ¬é¡¹ç›®åˆ°è‡ªå·±ä»“åº“ä¸­</p></li></ol><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/click_fork.png"></p><ol start="3"><li>å¼€å¯ <code>Actions</code></li></ol><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/start_action.png"></p><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/end_actions.png"></p><ol start="4"><li><p>è®¾ç½®ä¸‰ä¸ª <code>secrets</code>  å­—æ®µï¼š<code>USERNAME</code>ã€<code>PASSWORD</code>ã€<code>SCKEY</code>ï¼ˆå¯¹åº”å°±æ˜¯è´¦å·ï¼Œå¯†ç ä»¥åŠ Server é…±ï¼‰</p><ul><li>å¦‚æœæ˜¯å¤šäººæ‰“å¡çš„è¯ï¼š<ul><li>USERNAMEå­—æ®µï¼šæ‰‹æœºå·1,æ‰‹æœºå·2,â€¦â€¦ï¼ˆä¸ä¸‹é¢å¯†ç å¯¹åº”ï¼‰ï¼Œä¾‹å¦‚ï¼š<code>1737782***,13602***</code></li><li>PASSWORDå­—æ®µï¼šå¯†ç 1,å¯†ç 2,â€¦â€¦  ï¼ˆä¸ä¸Šé¢è´¦å·å¯¹åº”ï¼‰ï¼Œä¾‹å¦‚ï¼š<code>123456,456789</code></li><li>SCKEYå­—æ®µï¼šå¡«å†™ä¸€ä¸ªå³å¯ï¼ˆæ³¨å†Œè¯·å‰å¾€ï¼š<a href="https://sc.ftqq.com/3.version">Serveré…±å®˜ç½‘</a>ï¼‰ï¼Œä¾‹å¦‚ï¼š<code>SCU90543*******</code></li></ul></li></ul></li></ol><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/new_secrets.png"></p><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/secrets_details.png"></p><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/end_secrets.png"></p><ol start="5"><li>ä¿®æ”¹ <code>README.md</code> æµ‹è¯•ä¸€æ¬¡</li></ol><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/modify_readme.png"></p><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/end_modify.png"></p><ol start="6"><li>æŸ¥çœ‹ <code>Actions</code> è¿è¡Œæƒ…å†µï¼Œä»¥åŠå¾®ä¿¡æ¨é€æƒ…å†µï¼Œè‡³æ­¤æ¯æ—¥å…­ç‚¹å¤šå°†ä¼šè‡ªè¡Œæ‰“å¡</li></ol><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/check_status.png"></p><p>   <img src="https://cdn.jsdelivr.net/gh/ReaJason/17wanxiaoCheckin-Actions/Pictures/end_check.png"></p><h2 id="å››ã€Q-amp-A"><a href="#å››ã€Q-amp-A" class="headerlink" title="å››ã€Q&amp;A"></a>å››ã€Q&amp;A</h2><h3 id="1ã€forkä¹‹åï¼Œä¿®æ”¹README-mdå¹¶æ²¡æœ‰è§¦å‘actionsï¼Ÿ"><a href="#1ã€forkä¹‹åï¼Œä¿®æ”¹README-mdå¹¶æ²¡æœ‰è§¦å‘actionsï¼Ÿ" class="headerlink" title="1ã€forkä¹‹åï¼Œä¿®æ”¹README.mdå¹¶æ²¡æœ‰è§¦å‘actionsï¼Ÿ"></a>1ã€forkä¹‹åï¼Œä¿®æ”¹README.mdå¹¶æ²¡æœ‰è§¦å‘actionsï¼Ÿ</h3><p>è¯·è¿›å…¥ Actionsï¼ŒEnable workflow</p><p><img src="https://cdn.jsdelivr.net/gh/LingSiKi/images/img/enable.png" alt="enable"></p><h3 id="2ã€æäº¤ä¿¡æ¯ä¸­æœ‰ä¸€éƒ¨åˆ†ä¿¡æ¯æ— æ³•è‡ªåŠ¨å¡«å†™ï¼Œæˆ‘ä¸ä¼šä»£ç æ€ä¹ˆåŠï¼Ÿ"><a href="#2ã€æäº¤ä¿¡æ¯ä¸­æœ‰ä¸€éƒ¨åˆ†ä¿¡æ¯æ— æ³•è‡ªåŠ¨å¡«å†™ï¼Œæˆ‘ä¸ä¼šä»£ç æ€ä¹ˆåŠï¼Ÿ" class="headerlink" title="2ã€æäº¤ä¿¡æ¯ä¸­æœ‰ä¸€éƒ¨åˆ†ä¿¡æ¯æ— æ³•è‡ªåŠ¨å¡«å†™ï¼Œæˆ‘ä¸ä¼šä»£ç æ€ä¹ˆåŠï¼Ÿ"></a>2ã€æäº¤ä¿¡æ¯ä¸­æœ‰ä¸€éƒ¨åˆ†ä¿¡æ¯æ— æ³•è‡ªåŠ¨å¡«å†™ï¼Œæˆ‘ä¸ä¼šä»£ç æ€ä¹ˆåŠï¼Ÿ</h3><p>å•Šè¿™ï¼Œè¿™åªèƒ½ä¿®æ”¹ä»£ç åŠ å…¥æˆ‘ä»¬æƒ³è¦è®¾ç½®çš„å€¼ï¼Œè¯·è¿›å…¥17wanxiao.pyæ‰¾åˆ°åœ°æ–¹æŒ‰å¦‚ä¸‹ä¿®æ”¹ä»£ç ï¼Œ<br><code>ç”±äºpythonçš„ç¼©è¿›å¾ˆä¸¥æ ¼ï¼Œæ‰€ä»¥ä¸€å®šè¦æ³¨æ„æ ¼å¼</code>ï¼Œå»æ‰å‰é¢çš„#å³å¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è·å–å¥åº·æ‰“å¡çš„å‚æ•°</span><br>json1 = &#123;<span class="hljs-string">&quot;businessType&quot;</span>: <span class="hljs-string">&quot;epmpics&quot;</span>,<br>        <span class="hljs-string">&quot;jsonData&quot;</span>: &#123;<span class="hljs-string">&quot;templateid&quot;</span>: <span class="hljs-string">&quot;pneumonia&quot;</span>, <span class="hljs-string">&quot;token&quot;</span>: token&#125;,<br>        <span class="hljs-string">&quot;method&quot;</span>: <span class="hljs-string">&quot;userComeApp&quot;</span>&#125;<br>post_dict = get_post_json(json1)<br><span class="hljs-keyword">if</span> post_dict:<br>    <span class="hljs-comment"># å¥åº·æ‰“å¡</span><br>    <span class="hljs-comment"># print(post_dict)</span><br><br>    <span class="hljs-comment"># ä¿®æ”¹æ¸©åº¦ç­‰å‚æ•°</span><br>    <span class="hljs-comment"># for j in post_dict[&#x27;updatainfo&#x27;]:  # è¿™é‡Œè·å–æ‰“å¡jsonå­—æ®µçš„æ‰“å¡ä¿¡æ¯ï¼Œå¾®ä¿¡æ¨é€çš„jsonå­—æ®µ</span><br>    <span class="hljs-comment">#     if j[&#x27;propertyname&#x27;] == &#x27;temperature&#x27;:  # æ‰¾åˆ°propertynameä¸ºtemperatureçš„å­—æ®µ</span><br>    <span class="hljs-comment">#         j[&#x27;value&#x27;] = &#x27;36.2&#x27;  # ç”±äºåŸå…ˆä¸ºnullï¼Œè¿™é‡Œç›´æ¥è®¾ç½®36.2ï¼ˆæ ¹æ®è‡ªå·±å­¦æ ¡æ‰“å¡é€‰é¡¹æ¥ï¼‰</span><br>    <span class="hljs-comment">#     if j[&#x27;propertyname&#x27;] == &#x27;ä¸¾ä¸€åä¸‰å³å¯&#x27;:</span><br>    <span class="hljs-comment">#         j[&#x27;value&#x27;] = &#x27;ä¸¾ä¸€åä¸‰å³å¯&#x27;</span><br>    <br>    <span class="hljs-comment"># ä¿®æ”¹åœ°å€......</span><br></code></pre></td></tr></table></figure><h3 id="3ã€æˆ‘ä»¬å­¦æ ¡è¦æ±‚æ‰“å¡çš„æ—¶é—´ä¸ä¸€æ ·ï¼Œè¿™ä¸ªè‡ªåŠ¨è¿è¡Œçš„æ—¶é—´è¯¥æ€ä¹ˆä¿®æ”¹ï¼Ÿ"><a href="#3ã€æˆ‘ä»¬å­¦æ ¡è¦æ±‚æ‰“å¡çš„æ—¶é—´ä¸ä¸€æ ·ï¼Œè¿™ä¸ªè‡ªåŠ¨è¿è¡Œçš„æ—¶é—´è¯¥æ€ä¹ˆä¿®æ”¹ï¼Ÿ" class="headerlink" title="3ã€æˆ‘ä»¬å­¦æ ¡è¦æ±‚æ‰“å¡çš„æ—¶é—´ä¸ä¸€æ ·ï¼Œè¿™ä¸ªè‡ªåŠ¨è¿è¡Œçš„æ—¶é—´è¯¥æ€ä¹ˆä¿®æ”¹ï¼Ÿ"></a>3ã€æˆ‘ä»¬å­¦æ ¡è¦æ±‚æ‰“å¡çš„æ—¶é—´ä¸ä¸€æ ·ï¼Œè¿™ä¸ªè‡ªåŠ¨è¿è¡Œçš„æ—¶é—´è¯¥æ€ä¹ˆä¿®æ”¹ï¼Ÿ</h3><p>è¿›å…¥.github/workflows/run.ymlä¿®æ”¹æ—¶é—´</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">è¿™é‡Œçš„cronå°±æ˜¯è„šæœ¬è¿è¡Œæ—¶é—´ï¼Œ22,4,9å¯¹åº”çš„æ—¶é—´æ˜¯UTCæ—¶ï¼Œå¯¹åº”åŒ—äº¬æ—¶é—´æ—©ä¸Šå…­ç‚¹ï¼Œä¸­åˆåäºŒç‚¹ï¼Œä¸‹åˆäº”ç‚¹</span><br><span class="hljs-string">è¯¦ç»†å¯¹åº”å…³ç³»è¯·æŸ¥çœ‹ï¼šhttp://timebie.com/cn/universalbeijing.php</span><br><span class="hljs-string"></span><br><span class="hljs-string">åªæœ‰å¥åº·æ‰“å¡çš„å°ä¼™ä¼´å¯ä»¥åªç•™ç€22å°±å¯ä»¥äº†ï¼Œè¿™æ ·å…¶ä½™ä¸¤ä¸ªæ—¶é—´å°±ä¸ä¼šæ‰“å¡</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>on:<br>  push:<br>    branches: [ master ]<br>  pull_request:<br>    branches: [ master ]<br>  schedule:<br>    - cron: <span class="hljs-number">0</span> <span class="hljs-number">22</span>,<span class="hljs-number">4</span>,<span class="hljs-number">9</span> * * *<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Python</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Script</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
